$TTL 7200
@       IN      SOA     ns1.<%= @domain %>. postmaster.<%= @domain %>. (
                                        2007011601 ; Serial
                                        28800      ; Refresh
                                        1800       ; Retry
                                        604800     ; Expire - 1 week
                                        86400 )    ; Minimum
               IN      NS      ns1.<%= @domain %>.
<%= @domain %>.   IN      MX      5 alt2.aspmx.l.google.com.
<%= @domain %>.   IN      MX      10 alt3.aspmx.l.google.com.
<%= @domain %>.   IN      MX      5 alt1.aspmx.l.google.com.
<%= @domain %>.   IN      MX      1 aspmx.l.google.com.
<%= @domain %>.   IN      MX      10 alt4.aspmx.l.google.com.

ns1            IN      A       <%= @server_ip %>
puppet         IN      A       <%= @puppet_ip %>
<%- @nodes.each do |node| -%>
<%= node['host'] %>        IN          A       <%= node['ip'] %>
<%- if node['ip_private'] %>
<%= node['host'] %>.private        IN          A       <%= node['ip_private'] %>
<%- end %>
<%- end -%>
